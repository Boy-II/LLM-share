# LLM 網頁設計流程 - 目前結論

此文件記錄我們討論過程中的重要結論。

## 流程初步構想 (2025-11-18)

一個讓 LLM 設計網頁的流程，可以拆解成以下幾個關鍵階段：

1.  **階段一：需求定義與範疇確認 (Requirement Definition)**
2.  **階段 1.5：資產庫建立 (Asset Library Creation)**
3.  **階段二：結構與佈局生成 (Structure & Layout)**
4.  **階段三：視覺風格設計 (Visual Styling)**
5.  **階段四：互動功能實現 (Interactivity)**
6.  **階段五：迭代與優化 (Review & Refinement)**

## 關於功能區塊化與範本 (2025-11-18)

將網頁功能區塊化，並定義成可重複使用的 `sample_template`，有助於提高 LLM 理解的準確性、促進模組化與重用，並簡化迭代。這催生了建立獨立資產庫的想法。

## 關於建立獨立資產庫 (2025-11-18)

將結構、樣式和特效分離管理，可以讓 Prompt 更簡潔精確。因此，流程中的「階段 1.5」被升級為「資產庫建立」，包含三個部分：
1.  `template_samples.md` (HTML 結構)
2.  `color_schemes.md` (CSS 配色)
3.  `effects_library.md` (CSS/JS 特效)

## 關於圖片與 SVG 素材的處理策略 (2025-11-18)

採取「分離處理、引用整合」的策略。LLM 不直接創造素材，而是使用它們。
*   **點陣圖 (JPG, PNG)**: 使用佔位符服務 (e.g., placehold.co) 的 URL，讓 LLM 專注排版。
*   **向量圖 (SVG)**:
    *   **A. 直接生成**: LLM 可以為簡單圖形直接編寫 SVG 程式碼。
    *   **B. 圖示庫**: LLM 引用現成的圖示庫 (e.g., Font Awesome)。

## 處理視覺設計稿的兩種策略 (2025-11-18)

### 策略一：多模態模型直接讀取設計圖 (例如 JPG/PNG)
- **描述**: 將網頁的靜態設計圖交給多模態模型，讓其「看懂」並嘗試轉換為程式碼。
- **優點**: 流程簡單，適合快速產生粗略的原型或草稿。
- **缺點**: 不精確、素材品質低、無法處理響應式與互動。

### 策略二：連接結構化設計工具 (如 Figma)
- **描述**: 透過 API 或工具，讀取 Figma 等設計工具中的結構化設計數據。
- **優點**: 高保真、可使用設計權杖、可導出高品質素材、佈局與響應式規則可精確翻譯。
- **結論**: 追求高保真度、可維護性的專業作法。

## 針對複雜 SVG 局部動畫的策略 (2025-11-18)

採用「先標記，後動畫」的兩步驟流程：
1.  **結構化 SVG**: 在生成 SVG 時，用 Prompt 指示 LLM 將需動畫的部位用 `<g>` 包裹並給予唯一 `id`。
2.  **動畫化指定 ID**: 另外使用 CSS 或 JS，針對該 `id` 編寫動畫指令。

## 關於流程狀態管理與失憶問題 (2025-11-18)

為了解決 Token 限制和 LLM「失憶」問題，我們將引入一個核心的「**狀態管理文件**」：`work_progress.md`。
*   它將包含當前階段、可用資產清單、關鍵決策摘要和下一步目標。
*   每次任務前讀取，任務後更新，作為 LLM 的短期記憶和工作日誌。

## 關於標準佈局與主動詢問策略 (2025-11-18)

1.  **建立「標準版面範本」**：在 `template_samples.md` 中定義一個 `standard-page-layout`，作為頁面區塊的預設順序。
2.  **啟用「主動確認機制」**：當使用者指令遺漏標準區塊時，LLM 應暫停並詢問使用者是否刻意省略。

## 階段二：結構與佈局生成的執行策略 (2025-11-18)

此階段的目標是「**聰明地組裝**」，而非「從零創作」。Prompt 應該是一份「**組裝藍圖**」，包含以下核心指令：

1.  **定義頁面整體骨架 (Overall Skeleton)**
2.  **指定區塊與範本的對應關係 (Component Mapping)**
3.  **提供內容或數據 (Content Injection)**
4.  **預留樣式與腳本接口 (Linking)**

## 階段三：視覺風格設計的執行策略 (2025-11-18)

此階段的 Prompt 是一份「**樣式指令書 (Styling Directive)**」，包含：

1.  **導入設計權杖 (Import Design Tokens)**
2.  **設定全域樣式 (Global Styles)**
3.  **逐一設定元件樣式 (Component-by-Component Styling)**
4.  **應用佈局與間距 (Layout & Spacing)**

### 關於配色的動態生成策略 (2025-11-18)

可透過分析使用者提供的參考網站截圖（純視覺分析，防止程式碼汙染）來動態提取配色方案，並存入 `color_schemes.md`。

### 防止提示詞汙染的策略 (2025-11-18)

當從 URL 提取配色時，應採用「**純視覺分析，隔離原始碼**」的策略。LLM 應分析網站的**螢幕截圖**，而非原始碼，以避免混淆結構或特效。

### 影片輸入的最佳化策略 (2025-11-18)

為降低 Token 消耗，錄製動畫範例時應：
*   **縮短時長**：控制在 3 秒以內。
*   **降低幀率**：建議 10-15 fps。
*   **降低解析度**：建議 480p-720p。
*   **處理細微效果的限制與對策**: 低規格影片可能無法精確傳達透明度、羽化等細微效果，這些細節應透過後續的文字指令進行調整。

### 處理滾動觸發型動畫的策略 (2025-11-18)

對於滾動觸發型動畫，採用「**觸發與效果分離**」策略：
*   **影片**：只錄製動畫「效果本身」。
*   **文字 Prompt**：描述「觸發條件」（例如「當元件進入可視區域時」）。

## 階段四：互動功能實現的執行策略 (2025-11-18)

此階段的 Prompt 是一份「**行為指令書 (Behavioral Directive)**」，包含：

1.  **目標檔案 (Target File)**
2.  **元素識別 (Element Identification)**
3.  **觸發事件 (Trigger Event)**
4.  **期望行為/效果 (Desired Behavior/Effect)**
5.  **狀態變化 (State Changes)**
6.  **連結腳本 (Script Linking)**

### 建立可重用 JavaScript 範本庫 (2025-11-18)

建立 `js_templates.md` 檔案，用於存放常用且可重用的 JavaScript 功能模組。在 Prompt 中只需引用範本名稱並傳遞參數，可大幅節省 Token。

## 關於自定義簡寫語法與混合式 Prompt 策略 (2025-11-18)

採用「**混合式 Prompt 策略**」：
*   **簡寫語法**：用於處理重複性高、結構固定的內容區塊（例如 `<box>...</box>`），可大幅節省 Token。
*   **自然語言**：用於宏觀佈局、複雜邏輯和一次性指令。
*   **互動式佔位符填寫**：無論何種 Prompt 形式，當遇到缺失的必要資訊時，LLM 應主動詢問使用者。

## 最終產出目標：可配置的網站與主題編輯器 (2025-11-18)

本專案的最終產出將是一個**可配置的靜態網站**，並包含一個 `theme-editor.html` 檔案作為簡易的主題編輯器。
*   網站的樣式將廣泛使用 CSS 變數。
*   `theme-editor.html` 將提供 UI 控制項（如顏色選擇器、文字輸入框），讓使用者即時調整這些 CSS 變數。
*   支援透過 `FileReader` API 實現無後端的圖片上傳與更換，將圖片轉換為 Data URL 並應用。
*   所有使用者自訂的設定將透過 `localStorage` 儲存，確保重新整理後風格依然保留。
